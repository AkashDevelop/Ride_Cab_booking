
:root{
  --purple-light:   var(--purple-light, #d8b4fe);
  --purple-600:     var(--primary-600, #7c3aed);
  --green-accent:   var(--green-accent, #10b981);
  --bg-card:        var(--bg-card, rgba(30,30,46,0.72));
  --bg-soft:        rgba(255,255,255,0.03);
  --text-main:      var(--text-primary, #ffffff);
  --text-muted:     var(--text-muted, rgba(255,255,255,0.66));
  --radius-lg:      var(--radius-lg, 14px);
  --radius-md:      var(--radius-md, 10px);
  --shadow-lg:      0 10px 30px rgba(0,0,0,0.55);
  --shadow-glow:    0 10px 40px rgba(124,58,237,0.16);
  --transition:     220ms cubic-bezier(.2,.9,.3,1);
}

/* Container */
.search-container {
  margin-top: 20px;
  position: relative;
  width: 100%;
}

/* Layout */
.search-bar {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: nowrap;
}

/* Field wrapper (used to clip dropdown) */
.search-field {
  flex-grow: 1;
  position: relative;
  min-width: 0;
  max-width: 100%;
}

/* Input box (glass) */
.search-input-wrapper {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.08));
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: var(--shadow-lg);
  transition: box-shadow var(--transition), transform var(--transition), border-color var(--transition);
  cursor: text;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* Focus inside wrapper */
.search-input-wrapper:focus-within {
  box-shadow: 0 8px 36px rgba(124,58,237,0.18), 0 2px 8px rgba(0,0,0,0.6);
  border-color: rgba(167,139,250,0.28);
  transform: translateY(-2px);
}

/* Left icon */
.field-icon {
  color: var(--purple-light);
  margin-right: 6px;
  flex-shrink: 0;
  display: inline-grid;
  place-items: center;
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, rgba(124,58,237,0.14), rgba(167,139,250,0.06));
  border-radius: 8px;
  font-size: 0.95rem;
  font-weight: 700;
  box-shadow: 0 6px 18px rgba(0,0,0,0.45);
}

/* Input element */
.search-input {
  width: 100%;
  border: none;
  background: transparent;
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-main);
  outline: none;
  min-width: 0; /* important for flex shrink */
  caret-color: var(--purple-600);
}

/* Placeholder color */
.search-input::placeholder {
  color: var(--text-muted);
  font-weight: 500;
}

/* Clear and swap buttons */
.clear-btn,
.swap-btn {
  background: transparent;
  border: none;
  color: var(--purple-light);
  cursor: pointer;
  padding: 6px;
  border-radius: 8px;
  transition: background var(--transition), transform var(--transition), opacity var(--transition);
  display: inline-grid;
  place-items: center;
}

/* hover states */
.clear-btn:hover,
.swap-btn:hover {
  background: rgba(124,58,237,0.09);
  transform: translateY(-2px);
}

/* Disabled swap btn */
.swap-btn:disabled {
  opacity: 0.38;
  cursor: not-allowed;
  transform: none;
}

/* Swap button special: rotate animation on click (add .rotated via JS) */
.swap-btn.rotated {
  transform: rotate(180deg);
}

/* Give swap button a stronger presence */
.swap-btn {
  box-shadow: 0 6px 18px rgba(124,58,237,0.12);
  width: 40px;
  height: 40px;
  flex-shrink: 0;
}

/* Results dropdown */
.search-results {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  right: 0;
  max-height: 320px;
  overflow-y: auto;
  background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(30,30,46,0.7));
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 18px 50px rgba(0,0,0,0.6);
  z-index: 1200;
  padding: 8px;
  user-select: none;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  scroll-behavior: smooth;
}

/* Individual result */
.search-result-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  cursor: pointer;
  transition: background var(--transition), transform var(--transition);
  border-radius: 10px;
  color: var(--text-main);
}

/* Hover and active item (keyboard nav should toggle .active) */
.search-result-item:hover,
.search-result-item.active {
  background: linear-gradient(90deg, rgba(124,58,237,0.18), rgba(167,139,250,0.06));
  transform: translateY(-2px);
  box-shadow: var(--shadow-glow);
  color: white;
}

/* Result icon */
.result-icon {
  stroke-width: 1.5;
  color: var(--purple-light);
  width: 18px;
  height: 18px;
  flex-shrink: 0;
}

/* Result text layout */
.result-main {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.result-title {
  font-weight: 700;
  font-size: 0.95rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.result-sub {
  font-size: 0.82rem;
  color: var(--text-muted);
  margin-top: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Suggested quick chips */
.quick-suggestions {
  margin-top: 10px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  padding: 6px 2px 0 2px;
}

.suggestion-btn {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
  padding: 8px 12px;
  font-weight: 700;
  border-radius: 999px;
  cursor: pointer;
  border: 1px solid rgba(255,255,255,0.04);
  color: var(--text-muted);
  transition: transform var(--transition), background var(--transition), color var(--transition);
  font-size: 0.88rem;
}

.suggestion-btn:hover {
  background: linear-gradient(90deg, rgba(124,58,237,0.18), rgba(167,139,250,0.06));
  color: white;
  transform: translateY(-4px);
  box-shadow: var(--shadow-glow);
}

/* Label */
.suggestions-label {
  font-weight: 700;
  color: var(--text-muted);
  user-select: none;
  margin-bottom: 6px;
  display: inline-block;
}

/* thin scrollbar for results */
.search-results::-webkit-scrollbar {
  width: 8px;
}
.search-results::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(124,58,237,0.9), rgba(16,185,129,0.9));
  border-radius: 999px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.35);
}

/* Keyboard & accessibility helpers */
.search-result-item[aria-selected="true"],
.search-result-item:focus {
  outline: none;
  box-shadow: 0 6px 24px rgba(124,58,237,0.14);
}

/* Small screens: stack swap button inline with input */
@media (max-width: 640px) {
  .search-bar {
    gap: 8px;
  }
  .swap-btn {
    width: 36px;
    height: 36px;
  }
  .search-input {
    font-size: 0.95rem;
  }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .search-input-wrapper,
  .swap-btn,
  .search-result-item,
  .suggestion-btn {
    transition: none !important;
    animation: none !important;
  }
}
